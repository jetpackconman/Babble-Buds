<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="assets/css/main.css">
        <title>Babble Buds</title>
    </head>
    <body>
        <div id="screen" class="container main"></div>
        <div id="status" class="container status">Loading Interface...</div>
        <div id="bottom" class="container bottom">
            <div id="project-buttons" class="buttons s2">
                <input type="checkbox" id="greenscreen" class="checkbox"><label for="greenscreen" class="checkbox-label">Green Screen</label>
                <button id="popout">Pop Out Stage</button>
                <button id="settings" class="button-tab">Settings</button>
                <button id="multiplayer" class="button-tab">Multiplayer</button>
            </div>
            <div id="character-panel" style="width: 100%; height: 100%;">
                <div id="chars" class="s4">
                    <div id="char 0" class="char"><div class="hotkey">1</div><div class="desc"></div></div>
                    <div id="char 1" class="char"><div class="hotkey">2</div><div class="desc"></div></div>
                    <div id="char 2" class="char"><div class="hotkey">3</div><div class="desc"></div></div><br>
                    <div id="char 3" class="char"><div class="hotkey">4</div><div class="desc"></div></div>
                    <div id="char 4" class="char"><div class="hotkey">5</div><div class="desc"></div></div>
                    <div id="char 5" class="char"><div class="hotkey">6</div><div class="desc"></div></div><br>
                    <div id="char 6" class="char"><div class="hotkey">7</div><div class="desc"></div></div>
                    <div id="char 7" class="char"><div class="hotkey">8</div><div class="desc"></div></div>
                    <div id="char 8" class="char"><div class="hotkey">9</div><div class="desc"></div></div>
                </div>
                <div id="charselect" class="s4 charselector" style="display: none;">
                    <div id="char selected" class="char" style="margin: 0;"><div class="desc">Keep Current</div></div>
                    <div id="char null" class="char"><div class="desc">Empty</div></div>
                    <div id="char list" class="scroll charlist"></div>
                    <input type="search" id="char search" placeholder="Search" style="width: calc(100% - 8px);">
                </div>
                <div id="emotes" class="s4">
                    <div id="0" class="emote selected"><div class="hotkey">u</div><div class="desc">Default</div></div>
                    <div id="1" class="emote"><div class="hotkey">i</div><div class="desc">Happy</div></div>
                    <div id="2" class="emote"><div class="hotkey">o</div><div class="desc">Wink</div></div>
                    <div id="3" class="emote"><div class="hotkey">p</div><div class="desc">Kiss</div></div><br>
                    <div id="4" class="emote"><div class="hotkey">j</div><div class="desc">Angry</div></div>
                    <div id="5" class="emote"><div class="hotkey">k</div><div class="desc">Sad</div></div>
                    <div id="6" class="emote"><div class="hotkey">l</div><div class="desc">Ponder</div></div>
                    <div id="7" class="emote"><div class="hotkey">;</div><div class="desc">Gasp</div></div><br>
                    <div id="8" class="emote"><div class="hotkey">m</div><div class="desc">Very Angry</div></div>
                    <div id="9" class="emote"><div class="hotkey">,</div><div class="desc">Very Sad</div></div>
                    <div id="10" class="emote"><div class="hotkey">.</div><div class="desc">Confused</div></div>
                    <div id="11" class="emote"><div class="hotkey">/</div><div class="desc">Oooooooo</div></div><br>
                    <div id="babble" class="babble"><div class="hotkey">space</div><div class="desc">Babble</div></div>
                </div>
            </div>
            <div id="settings-panel" class="s8 scroll" style="display: none;">
                <div style="display: table;width: 100%;margin-bottom: 24px;">
                    <div style="display:table-row;">
                        <div style="width: 50%; display: table-cell; vertical-align: middle;">
                            Green Screen Color:
                            <input type="color" id="colorpicker" value="#00FF00" style="width: calc(100% - 16px); margin-bottom: 0">
                        </div>
                        <div style="width: 50%; display: table-cell; vertical-align: middle;">
                            <input type="checkbox" id="alwaysontop" class="checkbox"><label for="alwaysontop" class="checkbox-label">Pop Out Always On Top</label><br>
                        </div>
                    </div>
                </div>
                <h4>Room Settings</h4>
                <div class="s5">
                    Puppet Scale:
                    <input type="number" id="puppetscale" value="1" style="width: calc(100% - 16px)" step="0.1">
                </div>
                <div class="s5">
                    Number of Slots:
                    <input type="number" id="numslots" value="5" style="width: calc(100% - 16px)">
                </div>
                <br/>
                <h4>Networking Settings</h4>
                <div class="s5">
                    Server IP:
                    <input type="text" id="ip" value="namedraw.tech" style="width: calc(100% - 16px)">
                </div>
                <div class="s5">
                    Server Port:
                    <input type="number" id="port" value="8080" style="width: calc(100% - 16px)">
                </div>
                <button id="connect" class="fillbutton">Connect</button>
            </div>
            <div id="multiplayer-panel" class="s8 scroll" style="display: none;">
                <span id="connectedMessage"></span>
                <button id="joinRoom">Join Room</button>
                <button id="createRoom">Create Room</button>
                <div id="roomSettings" class="scroll">
                    <div class="s5">
                        Room Name:
                        <input type="text" id="roomName" value="lobby" style="width: calc(100% - 16px)">
                    </div>
                    <div class="s5">
                        Room Password:
                        <input type="text" id="roomPassword" style="width: calc(100% - 16px)">
                    </div>
                </div>
                <div id="adminPanel" class="scroll" style="display: none;">
                    <h4>Room Settings</h4>
                    <div class="s5">
                        Puppet Scale:
                        <input type="number" id="roomPuppetscale" value="1" style="width: calc(100% - 16px)" step="0.1">
                    </div>
                    <div class="s5">
                        Number of Slots:
                        <input type="number" id="roomNumslots" value="5" style="width: calc(100% - 16px)">
                    </div>
                    <h4>Connected Users</h4>
                    <div id="connected">
                    </div>
                    <button id="banish">Move all puppets off the stage</button>
                </div>
            </div>
        </div>


        <div id="side" class="container side">
            <div id="editor" class="vbar" style="height: calc( 50% - 8px );">
                <div id="puppet-buttons" class="sidebuttons">
                    <input id="add-puppet-dropdown" type="checkbox" class="dropdown">
                    <label for="add-puppet-dropdown" id="add-puppet-label" style="margin-left: 16px;"><button id="add-puppet-img" class="dropdown-image" style="background: url(assets/icons/add_asset.png) center no-repeat/contain" title="Add Puppets"></button></label>
                    <ul class="dropdown-content" style="margin-left: 10px;">
                        <li id="editor-new">New Puppet</li>
                        <li id="editor-duplicate">Duplicate Puppet</li>
                    </ul>
                    <button id="editor-import" style="background: url(assets/icons/import.png) center no-repeat/contain; background-size: 50% !important;" title="Import Puppets"></button>
                    <button id="editor-save" style="background: url(assets/icons/save.png) center no-repeat/contain" title="Save"></button>
                </div>
                <div id="puppet-buttons-right" class="sidebuttons" style="float: right;">
                    <button id="editor-emotes" style="background: url(assets/icons/face.png) center no-repeat/contain" title="Emote Settings"></button>
                    <button id="editor-open" style="background: url(assets/icons/grid.png) center no-repeat/contain;" title="Open"></button>
                    <button id="editor-settings" style="background: url(assets/icons/settings.png) center no-repeat/contain" title="Puppet Settings"></button>
                </div>
                <div id="editor-screen" class="editormain">
                    <button id="zoom in" style="top: 1px">+</button><button id="zoom out" style="left: 30px">-</button>
                </div>
                <div id="editor-open-panel" class="editorpanel charselector" style="display: none">
                    <div id="char open list" class="scroll charlist"></div>
                    <input type="search" id="char open search" placeholder="Search">
                </div>
                <div id="editor-emotes-panel" class="editorpanel scroll small" style="display: none;">
                    <div class="babble-emotes">
                        <button id="emote-1" class="emote available">default</button>
                        <button id="emote-2" class="emote">happy</button>
                        <button id="emote-3" class="emote">wink</button>
                        <button id="emote-4" class="emote">kiss</button>
                        <button id="emote-5" class="emote">angry</button>
                        <button id="emote-6" class="emote">sad</button>
                        <button id="emote-7" class="emote">ponder</button>
                        <button id="emote-8" class="emote">gasp</button>
                        <button id="emote-9" class="emote">veryangry</button>
                        <button id="emote-10" class="emote">verysad</button>
                        <button id="emote-11" class="emote">confused</button>
                        <button id="emote-12" class="emote">ooo</button>
                    </div>
                    <div style="padding: 8px">
                        <input id="emote-name" type="text" value="Default">
                        <input type="checkbox" id="emote-enabled" class="checkbox"><label for="emote-enabled" class="checkbox-label">Enabled</label><br/>
                        <input type="checkbox" id="emote-eyes" class="checkbox"><label for="emote-eyes" class="checkbox-label">Use this emote's eyes while babbling</label><br/>
                        <input type="checkbox" id="emote-mouth" class="checkbox"><label for="emote-mouth" class="checkbox-label">Use this emote's mouth while babbling</label><br/>
                    </div>
                </div>
                <div id="editor-settings-panel" class="editorpanel scroll" style="display: none">
                    <p style="margin: 8px 0;">Puppet Name:</p>
                    <input type="text" id="editor-name" value="New Puppet"><br>
                    <input type="checkbox" id="deadbonesstyle" class="checkbox"><label for="deadbonesstyle" class="checkbox-label" style="margin-bottom: 24px;">Bobble head while talking</label><br/>
                    Eyes Duration (while babbling):
                    <input type="number" id="eyeBabbleDuration" value="270" style="width: calc(100% - 16px)">
                    Mouth Duration (while babbling):
                    <input type="number" id="mouthBabbleDuration" value="2000" style="width: calc(100% - 16px)">
                    <button id="delete-character">Delete Character</button>
                </div>
                <div id="editor-layers" class="small" style="margin-top: 4px;">
                    <select id="editor-emote">
                        <option id="emote-1">default</option>
                        <option id="emote-2">happy</option>
                        <option id="emote-3">wink</option>
                        <option id="emote-4">kiss</option>
                        <option id="emote-5">angry</option>
                        <option id="emote-6">sad</option>
                        <option id="emote-7">ponder</option>
                        <option id="emote-8">gasp</option>
                        <option id="emote-9">veryangry</option>
                        <option id="emote-10">verysad</option>
                        <option id="emote-11">confused</option>
                        <option id="emote-12">ooo</option>
                    </select>
                    <div class="justify">
                        <button id="bundle" disabled>Bundles</button>
                        <button id="body">Body</button>
                        <button id="headBase">Head</button>
                        <button id="eyes">Eyes</button>
                        <button id="mouth">Mouth</button>
                        <button id="hat">Hat</button>
                        <button id="props">Props</button>
                    </div>
                </div>
            </div>
            <div class="sidebuttons" style="padding-left: 10px; position: relative;">
                <input id="add-asset-dropdown" type="checkbox" class="dropdown">
                <label for="add-asset-dropdown"><button id="add-asset-img" class="dropdown-image" style="background: url(assets/icons/add_asset.png) center no-repeat/contain" title="Add Assets"></button></label>
                <ul class="dropdown-content" style="top: 34px;">
                    <li id="add-asset">Add Asset</li>
                    <li id="add-animated-asset">Add Animated Asset</li>
                    <li id="new-asset-bundle" class="disabled">New Asset Bundle</li>
                </ul>
                <button id="import-asset" style="background: url(assets/icons/import.png) center no-repeat/contain; background-size: 50% !important;" title="Import Assets"></button>
                <button id="new-asset-list" style="background: url(assets/icons/new_folder.png) center no-repeat/contain" title="New Asset List"></button>
            </div>
            <div class="sidebuttons" style="float: right">
                <button id="edit-asset-list" style="background: url(assets/icons/settings.png) center no-repeat/contain; float: right" title="Edit Asset List"></button>
                <button id="asset selected" class="open-tab" style="display: none; float: right"></button>
            </div>
            <div id="assets" class="v5">
                <select id="asset tabs"></select>
                <div id="asset list" class="assetlist"></div>
                <input type="search" id="asset search" placeholder="Search">
            </div>
            <div id="asset editor" class="editorpanel v5 scroll" style="display: none">
                <p style="margin: 0 0 8px; padding-top: 16px;">Asset List:</p>
                <select id="asset-tab"></select>
                <p style="margin: 0 0 8px; padding-top: 16px;">Asset Name:</p>
                <input type="text" id="asset-name" value="New Asset"><br>
                <p style="margin: 0 0 8px;">Asset Type:</p>
                <select id="asset-type" style="margin-bottom: 12px">
                    <option>Sprite</option>
                    <option>Animated</option>
                </select>
                <div id="animated-settings">
                    <img id="animated-spritesheet" style="display: block; margin: auto; width: 90%;">
                    <p style="margin: 0; padding-top: 16px;">Rows:</p>
                    <input type="number" id="animation-rows" value="1">
                    Columns:
                    <input type="number" id="animation-cols" value="1">
                    Number of frames:
                    <input type="number" id="animation-numFrames" value="1">
                    Delay between frames:
                    <input type="number" id="animation-delay" value="60">
                </div>
                <button id="duplicate-asset">Duplicate Asset</button><br/>
                <button id="replace-asset">Replace Asset Image</button><br/>
                <button id="delete-asset">Delete Asset</button>
            </div>
            <div id="asset list editor" class="editorpanel v5" style="display: none">
                <p style="margin: 0 0 8px; padding-top: 16px;">Asset List Name:</p>
                <input type="text" id="asset-list-name" value="New Asset List"><br>
                <button id="delete-asset-list">Delete Asset List</button>
            </div>
        </div>


        <div id="instructions" style="display: none;">
            <iframe src="./instructions.html" style="width: 100%; height: 500px;" frameborder=0></iframe>
        </div>
        <div id="about" style="display: none;">
            <h1 style="color: #15191f;font-size: 90px;margin-bottom: 30px;text-shadow: 0 1px 1px #666;">Babble Buds</h1>
            <strong style="color: #54647a;"><script>document.write(require('electron').remote.app.getVersion())</script></strong><br/>
            <p style="color: #fff;">Babble buds is a free, open source puppet show software. It is heavily based on the non-public software called "Puppet Pals", used in URealms Live. The software is written using electron and PIXI.js.</p>
        </div>
        <div id="autocrop" style="display: none;">
            <div id="autocrop-desc" style="color: #fff">
            <p>This operation will take every asset in the project and remove any parts from the edges that are totally transparent. This will make the asset potentially smaller, and will have a smaller frame around it in the puppet editor, but will NOT cut out any pixels that are not completely transparent. The main purpose of this is to fix an issue where heads will bobble anchored around the bottom of the puppet instead of the bottom of the head. </p>
            <p>The program may not be able to respond while running the script. It may take a short while to complete, depending on how many assets there are to process. </p>
            <span style="font-weight: bold;">This process is not reversible. Unsaved changes made in the puppet editor will be discarded. The project will be automatically saved once the operation is completed.</span></div>
            <button id="autocrop-btn" class="fillbutton" style="margin-top: 10px;">Begin Autocropping</button>
            <div id="autocrop-assets" class="autocrop-assets"></div>
            <div id="autocrop-progress" class="fillbutton" style="margin-top: 10px; text-align: center; color: #fff"></div>
        </div>
        <div id="importAssets" style="display: none;">
            <input type="checkbox" id="import-all" class="checkbox"><label for="import-all" class="checkbox-label">Import All</label><br/>
            <div id="import-assets" class="import-assets"></div>
            <button id="cancel-import-assets" style="float: right">Cancel</button>
            <button id="import-assets-btn" style="float: right;">Import Assets</button>
        </div>
        <div id="importPuppets" style="display: none;">
            <input type="checkbox" id="import-all-puppets" class="checkbox"><label for="import-all-puppets" class="checkbox-label">Import All</label><br/><hr>
            <div id="import-puppets" class="import-puppets"></div>
            <button id="cancel-import-puppets" style="float: right">Cancel</button>
            <button id="import-puppets-btn" style="float: right;">Import Puppets</button>
        </div>
        <div id="prune" style="display: none;">
            <div style="color: #fff">
                <p>This operation will remove any assets that have been downloaded from other users, but haven't been used in any of your characters. </p>
                <p>This is disabled while connected to other clients. Assets will be redownloaded if you reconnect to a user with assets you don't have. </p>
            </div>
            <button id="prune-btn" class="fillbutton" style="margin-top: 10px;">Prune Assets</button>
        </div>
        <div class="modal">
            <div class="modal-inner">
                <div class="modal-content"></div>
            </div>
        </div>
    </body>

    <script>
        // You can also require other files to run in this process
        require('./renderer-process/project.js').readProject()
    </script>
</html>
